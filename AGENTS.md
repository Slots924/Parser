# Parser Project Guidelines

## Архітектура
- Основний застосунок зібраний у пакеті `parser_app`.
- Ключові модулі:
  - `config.py` — конфігурація пайплайна, побудова шляхів, налаштування полів.
  - `models.py` — доменні моделі `RawRecord` та `ProfileRecord`, допоміжні утиліти.
  - `readers/` — отримання вхідних даних (`BaseReader`, `TextReader`, `FileReader`).
  - `parsers/` — перетворення сирих рядків у структуровані записи (`ProfileParser`).
  - `exporters/` — експорт у різні формати (`ExcelExporter`).
  - `services/pipeline.py` — координує зчитування → парсинг → експорт.
  - `cli.py` — CLI на базі `argparse`, збирає пайплайн та запускає процес.
- Вхідні приклади розташовані в `data/`. Тести у `tests/`.

## Логіка обробки
1. **Reader** розбиває вхідний текст на непорожні рядки та повертає `RawRecord`.
2. **Parser** розділяє рядок за налаштованим сепаратором, дістає UA/cookie, решту формує у remark.
3. **Exporter** перетворює список `ProfileRecord` у Excel файл з фіксованими заголовками.
4. **ProcessingPipeline** зв’язує компоненти та повертає шлях до створеного файлу.
5. **CLI** дозволяє:
   - передати шлях до файлу або використати stdin;
   - змінити роздільник полів та індекси UA/cookie;
   - обрати директорію виводу.

## Правила внесення змін
- Для будь-яких правок у пакеті `parser_app/` дотримуйтесь наведених абстракцій (reader → parser → exporter).
- Нові формати введення або виводу додаються через реалізацію відповідних базових класів.
- Під час додавання тестів розміщуйте їх у `tests/` з префіксом `test_`.
- CLI має залишатися тонким шаром, що лише зчитує аргументи та викликає пайплайн.
